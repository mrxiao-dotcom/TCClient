# 推送功能测试说明

## 🚀 功能概述

已成功实现市场总览页面的推送消息功能，包含以下特性：

### ✅ 已实现功能

1. **虾推啥推送服务**
   - 支持多Token配置
   - 每日推送次数限制
   - 推送间隔控制

2. **10分钟自动刷新**
   - 市场总览页面每10分钟自动刷新数据
   - 保持数据实时性

3. **智能推送**
   - 根据配置的时间间隔自动推送
   - 分析当天和30天涨跌幅数据
   - 分组推送：共同涨跌、仅当天变化、仅30天变化

4. **推送配置界面**
   - 友好的图形界面配置
   - Token管理（添加/删除）
   - 推送频率设置
   - 测试推送功能

## 📋 测试步骤

### 1. 获取虾推啥Token
1. 访问 https://xtuis.cn/
2. 注册并获取你的推送Token
3. 记录Token，准备在应用中配置

### 2. 配置推送功能
1. 打开应用，进入"市场总览"页面
2. 点击页面顶部的"推送配置"按钮
3. 在配置窗口中：
   - ✅ 勾选"开启推送功能"
   - 📝 输入虾推啥Token并点击"添加"
   - ⚙️ 设置每日推送次数限制（建议5次）
   - ⏰ 设置推送间隔（建议240分钟=4小时）

### 3. 测试推送
1. 在推送配置窗口点击"发送测试消息"按钮
2. 检查你的推送接收端（手机、微信等）
3. 确认收到测试消息后保存配置

### 4. 验证自动功能
1. **10分钟刷新测试**：
   - 打开市场总览页面，观察数据更新时间
   - 等待10分钟，验证页面是否自动刷新

2. **定时推送测试**：
   - 根据设置的推送间隔等待
   - 验证是否收到定时推送的市场分析报告

## 📊 推送消息格式

推送消息包含以下内容：

### 涨幅分析 📈
- **当天和30天共涨**：显示持续上涨的强势合约
- **仅当天上涨**：显示当天突然爆发的合约  
- **仅30天上涨**：显示长期上涨但今日回调的合约

### 跌幅分析 📉
- **当天和30天共跌**：显示持续下跌的弱势合约
- **仅当天下跌**：显示当天突然下跌的合约
- **仅30天下跌**：显示长期下跌但今日反弹的合约

## ⚠️ 注意事项

1. **推送频率**：建议设置合理的推送间隔，避免过于频繁
2. **Token安全**：妥善保管你的虾推啥Token，不要泄露给他人
3. **网络连接**：确保应用有网络连接才能正常推送
4. **数据来源**：推送的分析数据基于市场实时数据和历史统计

## 🔧 故障排除

### 推送失败
- 检查Token是否正确
- 确认网络连接正常
- 验证虾推啥服务是否可用

### 自动刷新不工作
- 确认市场总览窗口保持打开状态
- 检查应用是否正常运行
- 查看日志文件了解详细错误信息

### 配置丢失
- 配置保存在应用目录的`push_config.json`文件中
- 如果配置丢失，重新配置即可

## 📝 推送消息示例

```
📊 市场分析报告 - 2024-01-15 14:30
━━━━━━━━━━━━━━━━━━━━
📈 涨幅分析:
🔥 当天和30天共涨 (5个):
  BTCUSDT: 当天+5.20%, 30天+12.80%
  ETHUSDT: 当天+3.10%, 30天+8.40%
  
⚡ 仅当天上涨 (3个):
  ADAUSDT: +2.50%
  
📉 跌幅分析:
❄️ 当天和30天共跌 (2个):
  XRPUSDT: 当天-2.10%, 30天-5.60%
━━━━━━━━━━━━━━━━━━━━
📊 总计: 100 个合约
```

## 🎯 功能优势

1. **实时性**：10分钟自动刷新确保数据时效性
2. **智能分析**：自动分析市场趋势，提供有价值的投资参考
3. **个性化**：可自定义推送频率和Token配置
4. **便捷性**：一键配置，自动运行，无需人工干预
5. **多渠道**：支持多个Token，可推送到不同接收端

完成以上配置后，你将拥有一个自动化的市场分析推送系统！🎉 